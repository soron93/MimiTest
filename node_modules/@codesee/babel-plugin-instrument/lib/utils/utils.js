"use strict";Object.defineProperty(exports,"__esModule",{value:!0});exports.getDefaultState=getDefaultState;exports.getLines=getLines;exports.getLocString=getLocString;exports.generateTempIdentifier=generateTempIdentifier;exports.isSacredMemberExpression=isSacredMemberExpression;exports.isSacredCallExpression=isSacredCallExpression;exports.traverseWithSkipKeys=exports.addImportOrRequireStatement=exports.addRequireStatement=void 0;var _helperModuleImports=require("@babel/helper-module-imports"),_constants=require("../constants"),_ast=require("./ast");function ownKeys(a,b){var c=Object.keys(a);if(Object.getOwnPropertySymbols){var d=Object.getOwnPropertySymbols(a);if(b)d=d.filter(function(b){return Object.getOwnPropertyDescriptor(a,b).enumerable});c.push.apply(c,d)}return c}function _objectSpread(a){for(var b=1,c;b<arguments.length;b++){c=null!=arguments[b]?arguments[b]:{};if(b%2){ownKeys(Object(c),!0).forEach(function(b){_defineProperty(a,b,c[b])})}else if(Object.getOwnPropertyDescriptors){Object.defineProperties(a,Object.getOwnPropertyDescriptors(c))}else{ownKeys(Object(c)).forEach(function(b){Object.defineProperty(a,b,Object.getOwnPropertyDescriptor(c,b))})}}return a}function _defineProperty(a,b,c){if(b in a){Object.defineProperty(a,b,{value:c,enumerable:!0,configurable:!0,writable:!0})}else{a[b]=c}return a}var _require=require("@babel/traverse"),traverse=_require["default"],addRequireStatement=function(a,b,c){var d=a.expressionStatement(a.callExpression(a.identifier("require"),[a.stringLiteral(c)]));b.unshiftContainer("body",d)};exports.addRequireStatement=addRequireStatement;var addImportOrRequireStatement=function(a,b){(0,_helperModuleImports.addSideEffect)(a,b,{importedInterop:"uncompiled"})};exports.addImportOrRequireStatement=addImportOrRequireStatement;var traverseWithSkipKeys=function(a,b,c){traverse.explode(b);traverse.node(a.node,b,a.scope,c,a,a.skipKeys)};exports.traverseWithSkipKeys=traverseWithSkipKeys;function getDefaultState(){var a=0<arguments.length&&arguments[0]!==void 0?arguments[0]:{},b=1<arguments.length&&arguments[1]!==void 0?arguments[1]:!1;if(b){return _objectSpread({accesses:[],declares:[],writes:[]},a)}else{return{accesses:[],declares:[],writes:[],rootFileName:a.rootFileName,trackingConfig:a.trackingConfig,version:a.version}}}function getLines(a){return{loc:getLocString(a)}}function getLocString(a){return"".concat(a.start.line,":").concat(a.start.column,"-").concat(a.end.line,":").concat(a.end.column)}function generateTempIdentifier(a,b){var c=a.generateUidIdentifier(b);c.codeseeId=!0;return c}function isSacredMemberExpression(a){return _constants.sacredMemberExpressions.some(function(b){var c=b.split(".");return(0,_ast.matchStringsToExpressionPath)(c,a)})}function isSacredCallExpression(a){var b=a.get("callee");return a.node.isSacred||_constants.sacredCallExpressions.some(function(a){var c=a.split(".");return(0,_ast.matchStringsToExpressionPath)(c,b)})}